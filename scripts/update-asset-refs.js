const fs=require("fs"),path=require("path");function updateAssetRefs(){const e=path.join(__dirname,"..","version.json"),s=JSON.parse(fs.readFileSync(e,"utf8")),t=path.join(__dirname,"..");fs.readdirSync(t).filter((e=>e.endsWith(".html"))).forEach((e=>{const r=path.join(t,e);let c=fs.readFileSync(r,"utf8");Object.entries(s.assets.css).forEach((([e,s])=>{const t=new RegExp(`href=["']([^"']*${e}\\.css)["']`,"g");c=c.replace(t,`href="$1?v=${s}"`)})),Object.entries(s.assets.js).forEach((([e,s])=>{const t=new RegExp(`src=["']([^"']*${e}\\.js)["']`,"g");c=c.replace(t,`src="$1?v=${s}"`)})),fs.writeFileSync(r,c)})),console.log("Asset references updated successfully")}updateAssetRefs();